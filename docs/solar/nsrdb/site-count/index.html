<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
        Site Count 
          API
        |
      NREL: Developer Network
    </title>

    <link rel="canonical" href="https://developer.nrel.gov/docs/solar/nsrdb/site-count/" />
    <script>
      if(window.location.href.indexOf('nrel.github.io') !== -1) {
        window.location.href = 'https://developer.nrel.gov/docs/solar/nsrdb/site-count/';
      }
    </script>

    <link href="/assets/stylesheets/all-2b7f33b3.css" rel="stylesheet" />

    <script src="/assets/javascripts/shared-8f31eae2.js"></script>
    <script src="/assets/javascripts/all-172ea8d4.js"></script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '', 'auto');
  ga('send', 'pageview');
</script>

  </head>
  <body class="docs docs_solar docs_solar_nsrdb docs_solar_nsrdb_site-count docs_solar_nsrdb_site-count_index">
    <div class="container">
  <header>
    <map name="header_map">
        <area shape="rect" coords="0,0,840,58" href="/" alt="Developer Network" />
      <area shape="rect" coords="840,0,1000,58" href="http://www.nrel.gov/" alt="NREL" />
    </map>
    <img src="/assets/images/nrel/header-1bfbcb1a.png" alt="NREL Developer Network" usemap="#header_map" width="1000" height="58" class="img-fluid" />
  </header>
  <nav class="navbar navbar-expand-md navbar-dark bg-primary">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar_nav" aria-controls="navbar_nav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbar_nav">
      <ul class="navbar-nav">
        <li class="nav-item nav-home "><a href="/" class="nav-link">Home</a></li>
        <li class="nav-item nav-documentation active"><a href="/docs" class="nav-link">Documentation</a></li>
        <li class="nav-item nav-community "><a href="/community" class="nav-link">Community</a></li>
      </ul>
    </div>
  </nav>

      <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/docs/">Documentation</a></li>
            <li class="breadcrumb-item"><a href="/docs/solar/">Solar</a></li>
            <li class="breadcrumb-item"><a href="/docs/solar/nsrdb/">NSRDB Data Downloads</a></li>
            <li class="breadcrumb-item active">Site Count</li>
    </ol>


    <h1 id="site-count-apinsrdbv2site-count">Site Count <span class="url">(/api/nsrdb/v2/site-count)</span></h1>
<p>Determine the number of sites containing data for a given point, polygon, or multipoint as specified by a WKT. This is useful for calculating download request size. Details at <a href="/docs/solar/nsrdb/guide">the download guide</a>.</p>

<ul id="toc"></ul>

<h2 id="request-url">Request URL</h2>

<pre>GET|POST /api/nsrdb/v2/site-count<em>.format?parameters</em></pre>

<h2 id="request-parameters">Request Parameters</h2>
<p><em>NOTE: when using POST to submit a request the api_key must still be included as a query parameter in the url. All other parameters may be included in a POST request as part of the payload.</em></p>

<table border="0" cellpadding="0" cellspacing="0" class="doc-parameters">
  <thead>
    <tr>
      <th class="doc-parameters-name" scope="col">Parameter</th>
      <th class="doc-parameters-required" scope="col">Required</th>
      <th class="doc-parameters-value" scope="col">Value</th>
      <th class="doc-parameters-description" scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th class="doc-parameter-name" scope="row">api_key</th>
      <td class="doc-parameter-required">Yes</td>
      <td class="doc-parameter-value">
        <div class="doc-parameter-value-field"><strong>Type:</strong> string</div>
        <div class="doc-parameter-value-field"><strong>Default:</strong> None</div>
      </td>
      <td class="doc-parameter-description">
        <p>Your developer API key. See <a href="/docs/api-key/">API keys</a> for more information.</p>
      </td>
    </tr>
    <tr>
      <th class="doc-parameter-name" scope="row">wkt</th>
      <td class="doc-parameter-required">Yes</td>
      <td class="doc-parameter-value">
        <div class="doc-parameter-value-field"><strong>Type:</strong> well-known text string</div>
        <div class="doc-parameter-value-field"><strong>Default:</strong> None</div>
      </td>
      <td class="doc-parameter-description">
        A well-known text (WKT) representation of the geometry for which to extract data. May be a point, multipoint, or polygon geometry. When a point is passed the site nearest to that point is used. When a multipoint is passed the site nearest each point is used. This can be useful for downloading multiple sites in a single request when those sites are geographically distant from each other. When a polygon is passed all sites that intersect with the given polygon are used.
      </td>
    </tr>
  </tbody>
</table>

<h2 id="response-fields">Response Fields</h2>

<p>The response is composed of service-related informational fields and the results of the data query.</p>

<table border="0" cellpadding="0" cellspacing="0" class="doc-parameters">
  <thead>
    <tr>
      <th class="doc-parameters-name" scope="col">Field</th>
      <th class="doc-parameters-value" scope="col">Value</th>
      <th class="doc-parameters-description" scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th class="doc-parameter-name" scope="row">errors</th>
      <td class="doc-parameter-value">
      <div class="doc-parameter-value-field"><strong>Type:</strong> string array</div>
      </td>
      <td class="doc-parameter-description">
      <p>A list of error messages</p>
      </td>
    </tr>
    <tr>
      <th class="doc-parameter-name" scope="row">warnings</th>
      <td class="doc-parameter-value">
      <div class="doc-parameter-value-field"><strong>Type:</strong> string array</div>
      </td>
      <td class="doc-parameter-description">
      <p>A list of warning messages</p>
      </td>
    </tr>
    <tr>
      <th class="doc-parameter-name" scope="row">inputs</th>
      <td class="doc-parameter-value">
      <div class="doc-parameter-value-field"><strong>Type:</strong> Object Hash</div>
      </td>
      <td class="doc-parameter-description">Key: Value pairs representing all input parameters</td>
    </tr>
    <tr>
      <th class="doc-parameter-name" scope="row">outputs</th>
      <td class="doc-parameter-value">
      <div class="doc-parameter-value-field"><strong>Type:</strong> Object Hash</div>
      </td>
      <td class="doc-parameter-description">Upon successful completion a list of datasets with a site count for each will be returned.</td>
    </tr>
  </tbody>
</table>

<h2>Examples</h2>

<h3 id="json-output-format">JSON Output Format</h3>

<div class="doc-example-url"><code>GET /api/nsrdb/v2/site-count.json?api_key=DEMO_KEY&amp;wkt=POLYGON((-114.609374+40.178873%2C-112.675781+40.178873%2C-112.675781+38.616870%2C-114.609374+38.616870%2C-114.609374+40.178873))</code></div>

<div class="highlight"><pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"wkt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POLYGON((-114.609374 40.178873,-112.675781 40.178873,-112.675781 38.616870,-114.609374 38.616870,-114.609374 40.178873))"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"nsrdb_spectral_site_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nsrdb_0512_site_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1872</span><span class="p">,</span><span class="w">
    </span><span class="nl">"suny_india_site_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nsrdb_9110_site_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nsrdb_9105_site_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nsrdb_9105_tmy_site_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nsrdb_6190_site_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nsrdb_9809_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"within_united_states"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nsrdb_site_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1872</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h2 id="rate-limits">Rate Limits</h2>

<p><a href="/docs/rate-limits">Standard rate limits</a> apply. No more than 1,000 requests may be made in any hour.</p>

<h2 id="errors">Errors</h2>

<p><a href="/docs/errors/">Standard errors</a> may be returned. In addition, the following service-specific errors may be returned:</p>

<table border="0" cellpadding="0" cellspacing="0" class="doc-parameters">
  <thead>
    <tr>
      <th class="doc-parameters-name" scope="col" style="width: 100px;">HTTP Status Code</th>
      <th class="doc-parameters-required" scope="col">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th class="doc-parameter-name" scope="row">400</th>
      <td class="doc-parameter-description">Bad Request: When required parameters are missing.</td>
    </tr>
  </tbody>
</table>

    <div style="text-align: center; font-style: italic; padding: 3em 0.5em 0em 0.5em;">
  <a href="https://github.com/NREL/developer.nrel.gov/blob/master/source/docs/solar/nsrdb/site-count.html.md.erb">Help Improve this Content</a>
</div>

      <footer class="container-fluid">
    <div align="center"><img src="/assets/images/nrel/foot_nrelis-8e56f120.gif" alt="NREL is a national laboratory of the U.S. Department of Energy, Office of Energy Efficiency and Renewable Energy, operated by the Alliance for Sustainable Energy, LLC." usemap="#footer_map" class="img-fluid" /></div>

    <map name="footer_map" id="footer_map">
      <area shape="rect" coords="27,7,61,20" href="http://www.nrel.gov/" alt="NREL" />
      <area shape="rect" coords="238,7,399,19" href="http://www.energy.gov/" alt="U.S. Department of Energy" />
      <area shape="rect" coords="405,7,697,21" href="http://www.eere.energy.gov/" alt="Office of Energy Efficiency and Renewable Energy" />
      <area shape="rect" coords="307,21,524,35" href="http://www.allianceforsustainableenergy.org/" alt="Alliance for Sustainable Energy, LLC" />
    </map>

    <p><a href="/contact">Need Help?</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="http://www.nrel.gov/security.html">Security &amp; Privacy</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="http://www.nrel.gov/disclaimer.html">Disclaimer</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="http://www.nrel.gov/">NREL Home</a></p>
  </footer>
</div>

  </body>
</html>
