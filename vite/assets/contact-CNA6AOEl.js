var O=Object.defineProperty;var P=(t,e,i)=>e in t?O(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var $=(t,e,i)=>P(t,typeof e!="symbol"?e+"":e,i);import{g as k}from"./c-_commonjsHelpers-Cpj98o6Y.js";const r={inert:":not([inert]):not([inert] *)",negTabIndex:':not([tabindex^="-"])',disabled:":not(:disabled)"};var j=[`a[href]${r.inert}${r.negTabIndex}`,`area[href]${r.inert}${r.negTabIndex}`,`input:not([type="hidden"]):not([type="radio"])${r.inert}${r.negTabIndex}${r.disabled}`,`input[type="radio"]${r.inert}${r.negTabIndex}${r.disabled}`,`select${r.inert}${r.negTabIndex}${r.disabled}`,`textarea${r.inert}${r.negTabIndex}${r.disabled}`,`button${r.inert}${r.negTabIndex}${r.disabled}`,`details${r.inert} > summary:first-of-type${r.negTabIndex}`,`iframe${r.inert}${r.negTabIndex}`,`audio[controls]${r.inert}${r.negTabIndex}`,`video[controls]${r.inert}${r.negTabIndex}`,`[contenteditable]${r.inert}${r.negTabIndex}`,`[tabindex]${r.inert}${r.negTabIndex}`];function T(t){(t.querySelector("[autofocus]")||t).focus()}function z(t){const e=y(t,!0),i=e?y(t,!1)||e:null;return[e,i]}function y(t,e){if(e&&F(t))return t;if(B(t))if(t.shadowRoot){let i=C(t.shadowRoot,e);for(;i;){const s=y(i,e);if(s)return s;i=_(i,e)}}else if(t.localName==="slot"){const i=t.assignedElements({flatten:!0});e||i.reverse();for(const s of i){const a=y(s,e);if(a)return a}}else{let i=C(t,e);for(;i;){const s=y(i,e);if(s)return s;i=_(i,e)}}return!e&&F(t)?t:null}function C(t,e){return e?t.firstElementChild:t.lastElementChild}function _(t,e){return e?t.nextElementSibling:t.previousElementSibling}const q=t=>t.matches("details:not([open]) *")&&!t.matches("details>summary:first-of-type")?!0:!(t.offsetWidth||t.offsetHeight||t.getClientRects().length),F=t=>{var e;return(e=t.shadowRoot)!=null&&e.delegatesFocus?!1:t.matches(j.join(","))&&!q(t)};function B(t){return t.shadowRoot&&t.getAttribute("tabindex")==="-1"?!1:!t.matches(":disabled,[hidden],[inert]")}function E(t=document){const e=t.activeElement;return e?e.shadowRoot?E(e.shadowRoot)||document.activeElement:e:null}function M(t,e){const[i,s]=z(t);if(!i)return e.preventDefault();const a=E();e.shiftKey&&a===i?(s.focus(),e.preventDefault()):!e.shiftKey&&a===s&&(i.focus(),e.preventDefault())}function f(t,e){function i(s){if(!s||s===document||s===window)return null;const a=D(s);return a&&(s=a),s.closest(t)||i(s.getRootNode().host)}return i(e)}function D(t){return t.assignedSlot||(t.parentNode?D(t.parentNode):null)}const v="data-a11y-dialog";class L{constructor(e){$(this,"$el");$(this,"id");$(this,"previouslyFocused");$(this,"shown");this.$el=e,this.id=this.$el.getAttribute(v)||this.$el.id,this.previouslyFocused=null,this.shown=!1,this.maintainFocus=this.maintainFocus.bind(this),this.bindKeypress=this.bindKeypress.bind(this),this.handleTriggerClicks=this.handleTriggerClicks.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.$el.setAttribute("aria-hidden","true"),this.$el.setAttribute("aria-modal","true"),this.$el.setAttribute("tabindex","-1"),this.$el.hasAttribute("role")||this.$el.setAttribute("role","dialog"),document.addEventListener("click",this.handleTriggerClicks,!0)}destroy(){return this.fire("destroy").defaultPrevented?this:(this.hide(),document.removeEventListener("click",this.handleTriggerClicks,!0),this.$el.replaceWith(this.$el.cloneNode(!0)),this)}show(e){var s;return this.shown?this:this.fire("show",e).defaultPrevented?this:(this.shown=!0,this.$el.removeAttribute("aria-hidden"),this.previouslyFocused=E(),((s=this.previouslyFocused)==null?void 0:s.tagName)==="BODY"&&(e!=null&&e.target)&&(this.previouslyFocused=e.target),(e==null?void 0:e.type)==="focus"?this.maintainFocus():T(this.$el),document.body.addEventListener("focus",this.maintainFocus,!0),this.$el.addEventListener("keydown",this.bindKeypress,!0),this)}hide(e){var s,a;return this.shown?this.fire("hide",e).defaultPrevented?this:(this.shown=!1,this.$el.setAttribute("aria-hidden","true"),(a=(s=this.previouslyFocused)==null?void 0:s.focus)==null||a.call(s),document.body.removeEventListener("focus",this.maintainFocus,!0),this.$el.removeEventListener("keydown",this.bindKeypress,!0),this):this}on(e,i,s){return this.$el.addEventListener(e,i,s),this}off(e,i,s){return this.$el.removeEventListener(e,i,s),this}fire(e,i){const s=new CustomEvent(e,{detail:i,cancelable:!0});return this.$el.dispatchEvent(s),s}handleTriggerClicks(e){const i=e.composedPath()[0],s=f(`[${v}-show="${this.id}"]`,i),a=f(`[${v}-hide="${this.id}"]`,i),n=f(`[${v}-hide]`,i)&&f('[aria-modal="true"]',i)===this.$el;s&&this.show(e),(a||n)&&this.hide(e)}bindKeypress(e){if(f('[aria-modal="true"]',E())!==this.$el)return;let i=!1;try{i=!!this.$el.querySelector('[popover]:not([popover="manual"]):popover-open')}catch{}e.key==="Escape"&&this.$el.getAttribute("role")!=="alertdialog"&&!i&&(e.preventDefault(),this.hide(e)),e.key==="Tab"&&M(this.$el,e)}maintainFocus(){const e=E();f(`[aria-modal="true"], [${v}-ignore-focus-trap]`,e)||T(this.$el)}}function S(){for(const t of document.querySelectorAll("[data-a11y-dialog]"))new L(t)}typeof document<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",S):S());/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var U=/["'&<>]/,W=J;function J(t){var e=""+t,i=U.exec(e);if(!i)return e;var s,a="",n=0,c=0;for(n=i.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#39;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}c!==n&&(a+=e.substring(c,n)),c=n+1,a+=s}return c!==n?a+e.substring(c,n):a}const x=k(W);var V=/^(?:submit|button|image|reset|file)$/i,Y=/^(?:input|select|textarea|keygen)/i,R=/(\[[^\[\]]*\])/g;function G(t,e){typeof e!="object"?e={hash:!!e}:e.hash===void 0&&(e.hash=!0);for(var i=e.hash?{}:"",s=e.serializer||(e.hash?X:Z),a=t&&t.elements?t.elements:[],n=Object.create(null),c=0;c<a.length;++c){var o=a[c];if(!(!e.disabled&&o.disabled||!o.name)&&!(!Y.test(o.nodeName)||V.test(o.type))){var d=o.name,l=o.value;if((o.type==="checkbox"||o.type==="radio")&&!o.checked&&(l=void 0),e.empty){if(o.type==="checkbox"&&!o.checked&&(l=""),o.type==="radio"&&(!n[o.name]&&!o.checked?n[o.name]=!1:o.checked&&(n[o.name]=!0)),l==null&&o.type=="radio")continue}else if(!l)continue;if(o.type==="select-multiple"){l=[];for(var b=o.options,h=!1,u=0;u<b.length;++u){var p=b[u],H=e.empty&&!p.value,K=p.value||H;p.selected&&K&&(h=!0,e.hash&&d.slice(d.length-2)!=="[]"?i=s(i,d+"[]",p.value):i=s(i,d,p.value))}!h&&e.empty&&(i=s(i,d,""));continue}i=s(i,d,l)}}if(e.empty)for(var d in n)n[d]||(i=s(i,d,""));return i}function Q(t){var e=[],i=/^([^\[\]]*)/,s=new RegExp(R),a=i.exec(t);for(a[1]&&e.push(a[1]);(a=s.exec(t))!==null;)e.push(a[1]);return e}function g(t,e,i){if(e.length===0)return t=i,t;var s=e.shift(),a=s.match(/^\[(.+?)\]$/);if(s==="[]")return t=t||[],Array.isArray(t)?t.push(g(null,e,i)):(t._values=t._values||[],t._values.push(g(null,e,i))),t;if(!a)t[s]=g(t[s],e,i);else{var n=a[1],c=+n;isNaN(c)?(t=t||{},t[n]=g(t[n],e,i)):(t=t||[],t[c]=g(t[c],e,i))}return t}function X(t,e,i){var s=e.match(R);if(s){var a=Q(e);g(t,a,i)}else{var n=t[e];n?(Array.isArray(n)||(t[e]=[n]),t[e].push(i)):t[e]=i}return t}function Z(t,e,i){return i=i.replace(/(\r)?\n/g,`\r
`),i=encodeURIComponent(i),i=i.replace(/%20/g,"+"),t+(t?"&":"")+encodeURIComponent(e)+"="+i}var ee=G;const te=k(ee),ie={},w={...ie,...window.nrelContactOptions||{}};w.apiKey||alert("nrelContactOptions.apiKey must be set");const N=document.getElementById("alert_modal"),A=N.querySelector("#alert_modal_message"),I=new L(N),m=document.getElementById("nrel_contact_form");m.addEventListener("submit",t=>{if(t.preventDefault(),!m.checkValidity())return m.classList.add("was-validated"),!1;const e=m.querySelector("button[type=submit]"),i=e.innerHTML;setTimeout(()=>{e.disabled=!0,e.innerText="Sending..."},0);const a=window.location.hostname==="developer.nrel.gov"?"developer.nrel.gov":"devstage.nrel.gov";return fetch(`https://${a}/api/contactor/v1.json?`+new URLSearchParams({api_key:w.apiKey}),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(te(m,{hash:!0}))}).then(n=>{const c=n.headers.get("Content-Type");if(!c||!c.includes("application/json"))throw new Error("Response is not JSON");return n.json().then(o=>({response:n,data:o}))}).then(({response:n,data:c})=>{if(!n.ok)throw{responseData:c};m.reset(),A.innerText="Thanks for sending your message. We'll be in touch.",I.show()}).catch(n=>{var d,l,b;const c=[];let o="";try{if((d=n==null?void 0:n.responseData)!=null&&d.errors)for(let h=0;h<n.responseData.errors.length;h+=1){const u=n.responseData.errors[h];(u.full_message||u.message)&&c.push(x(u.full_message||u.message))}(b=(l=n==null?void 0:n.responseData)==null?void 0:l.error)!=null&&b.message&&c.push(x(n.responseData.error.message)),c.length>0?o=`<br><ul><li>${c.join("</li><li>")}</li></ul>`:console.error(n)}catch(h){console.error(h)}A.innerHTML=`Sending your message unexpectedly failed.${o}<br>Please try again or <a href="${x(w.issuesUrl)}">file an issue</a> for assistance.`,I.show()}).finally(()=>{e.disabled=!1,e.innerHTML=i})});
//# sourceMappingURL=contact-CNA6AOEl.js.map
